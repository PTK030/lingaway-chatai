<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chatbot do Nauki JÄ™zykÃ³w</title>
    <script src="https://unpkg.com/@hotwired/stimulus@3.2.2/dist/stimulus.umd.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="chat-container" data-controller="language-chatbot">
      <!-- Header -->
      <div class="header">
        <h1>ğŸ—£ï¸ Chatbot do Nauki JÄ™zykÃ³w</h1>
        <p>Rozmawiaj z AI w wybranym jÄ™zyku!</p>

        <div class="language-selector">
          <button
            class="language-btn active"
            data-action="click->language-chatbot#setLanguage"
            data-lang="pl-PL"
          >
            ğŸ‡µğŸ‡± Polski
          </button>
          <button
            class="language-btn"
            data-action="click->language-chatbot#setLanguage"
            data-lang="en-US"
          >
            ğŸ‡ºğŸ‡¸ English
          </button>
          <button
            class="language-btn"
            data-action="click->language-chatbot#setLanguage"
            data-lang="es-ES"
          >
            ğŸ‡ªğŸ‡¸ EspaÃ±ol
          </button>
          <button
            class="language-btn"
            data-action="click->language-chatbot#setLanguage"
            data-lang="fr-FR"
          >
            ğŸ‡«ğŸ‡· FranÃ§ais
          </button>
          <button
            class="language-btn"
            data-action="click->language-chatbot#setLanguage"
            data-lang="de-DE"
          >
            ğŸ‡©ğŸ‡ª Deutsch
          </button>
        </div>
      </div>

      <!-- API Setup -->
      <div class="api-setup" data-language-chatbot-target="apiSetup">
        <h3>ğŸ”‘ Konfiguracja API</h3>
        <p>
          Aby korzystaÄ‡ z chatbota, potrzebujesz darmowego klucza API z Hugging
          Face:
        </p>
        <ol>
          <li>
            IdÅº na
            <a href="https://huggingface.co/join" target="_blank"
              >huggingface.co</a
            >
            i zaÅ‚Ã³Å¼ darmowe konto
          </li>
          <li>
            PrzejdÅº do
            <a href="https://huggingface.co/settings/tokens" target="_blank"
              >Settings â†’ Access Tokens</a
            >
          </li>
          <li>UtwÃ³rz nowy token i skopiuj go poniÅ¼ej:</li>
        </ol>
        <input
          type="password"
          placeholder="Wklej swÃ³j Hugging Face API token..."
          data-language-chatbot-target="apiInput"
        />
        <button data-action="click->language-chatbot#saveApiKey">
          Zapisz klucz API
        </button>
      </div>

      <!-- Chat Messages -->
      <div class="chat-messages" data-language-chatbot-target="messages">
        <div class="message bot">
          <div class="avatar">ğŸ¤–</div>
          <div class="message-content">
            CzeÅ›Ä‡! Jestem Twoim asystentem do nauki jÄ™zykÃ³w. Wybierz jÄ™zyk i
            zacznij rozmawiaÄ‡ ze mnÄ…! PamiÄ™taj, Å¼e potrzebujesz mikrofonu i
            klucza API Hugging Face.
          </div>
        </div>
      </div>

      <!-- Loading indicator -->
      <div class="loading" data-language-chatbot-target="loading">
        <div class="spinner"></div>
        <p>Przetwarzam odpowiedÅº...</p>
      </div>

      <!-- Controls -->
      <div class="controls">
        <button
          class="mic-button disabled"
          data-language-chatbot-target="micButton"
          data-action="click->language-chatbot#toggleRecording"
        >
          ğŸ¤
        </button>
        <div class="status" data-language-chatbot-target="status">
          Skonfiguruj API, aby rozpoczÄ…Ä‡
        </div>
        <button
          class="clear-button"
          data-action="click->language-chatbot#clearChat"
        >
          ğŸ—‘ï¸ WyczyÅ›Ä‡
        </button>
      </div>
    </div>

    <script src="script.js" type="module"></script>
  </body>
</html>
